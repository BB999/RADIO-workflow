# Image Workflow

プロンプトから3つの異なるシチュエーションの高品質画像を自動生成するワークフローです。

## 🌟 概要

このワークフローは、1つのプロンプトから異なるシチュエーション（時間帯、天候、視点、スタイルなど）の3枚の画像を自動生成します。Imagen4 Ultraを使用して高解像度・高品質な画像を生成し、それぞれが独自の魅力を持ちながら全体として統一感のあるセットを作成します。

## 🚀 特徴

- **3つのバリエーション**: 1つのプロンプトから異なるシチュエーションの3枚の画像を生成
- **高品質画像生成**: Imagen4 Ultraによる高解像度・高品質な画像
- **自動計画立案**: AIが自動で3つのシチュエーションを考案
- **統一感のあるセット**: 各画像が独自性を持ちながら全体として調和
- **プルリクエスト自動作成**: 生成結果を確認しやすいPR形式で提供

## 📦 ワークフロー構成

### 1. **計画フェーズ**
- ユーザープロンプトを分析
- 3つの異なるシチュエーションを考案
- 各シチュエーションに最適化されたプロンプトを作成

### 2. **画像生成フェーズ**
- Imagen4 Ultraを使用して3枚の画像を生成
- 各画像を個別のファイルとして保存
- 生成URLをJSONファイルに記録

### 3. **プルリクエスト作成**
- 生成された3枚の画像を含むPRを自動作成
- 各バリエーションの画像をプレビュー可能な形式で表示

## 🛠️ セットアップ

### 必要なSecrets設定

1. **CLAUDE_CODE_OAUTH_TOKEN**: Claude Code SDKの認証トークン
2. **PAT_TOKEN** (オプション): GitHubのPersonal Access Token（PR作成用）

### MCP設定

`.claude/mcp-kamuicode.json`にImagen4 Ultra用のMCP設定が必要です：

```json
{
  "mcpServers": {
    "t2i-fal-imagen4-ultra": {
      // Imagen4 Ultra設定
    }
  }
}
```

## 📝 使用方法

1. GitHub Actionsページで「Create Images from Prompt」ワークフローを選択
2. "Run workflow"をクリック
3. プロンプトを入力（例：「美しい日本庭園」）
4. ワークフローが自動的に：
   - 3つのシチュエーション（朝、昼、夜など）を計画
   - 各シチュエーションの画像を生成
   - プルリクエストを作成

## 📂 出力ファイル構造

```
images-YYYYMMDD-RUNID/
├── planning/
│   ├── image-plan.md           # 全体計画書
│   ├── image-prompts.json      # 3つのプロンプト
│   └── variation-concepts.md   # バリエーション説明
├── images/
│   ├── image-variation-1.png   # 1枚目の画像
│   ├── image-variation-2.png   # 2枚目の画像
│   ├── image-variation-3.png   # 3枚目の画像
│   └── image-urls.json         # 生成URL記録
```

## 🎨 生成例

プロンプト: 「美しい日本庭園」

- **バリエーション1**: 朝の静寂な日本庭園（朝露、柔らかい光）
- **バリエーション2**: 昼の活気ある日本庭園（鮮やかな緑、明るい陽光）
- **バリエーション3**: 夜の幻想的な日本庭園（月光、ライトアップ）

## 🔧 カスタマイズ

ワークフローはカスタマイズ可能です：

- シチュエーションの種類を変更（時間帯→季節、天候→スタイルなど）
- 生成枚数の調整（3枚→5枚など）
- 画像サイズや品質の設定変更

## 📄 ライセンス

MIT License

---

🤖 **Powered by Claude Code SDK & kamuicode MCP**